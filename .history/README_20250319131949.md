# Hướng Dẫn Tích Hợp TrackAsia vào React Native

## Giới Thiệu

TrackAsia là một thư viện bản đồ mạnh mẽ cho ứng dụng React Native, cung cấp bản đồ chất lượng cao, theo dõi vị trí và nhiều tính năng bản đồ khác. Hướng dẫn này sẽ giúp bạn tích hợp TrackAsia vào dự án React Native của mình.

## Mục Lục

1. [Yêu Cầu Hệ Thống](#yêu-cầu-hệ-thống)
2. [Cài Đặt](#cài-đặt)
3. [Triển Khai Cơ Bản](#triển-khai-cơ-bản)
4. [Tính Năng Nâng Cao](#tính-năng-nâng-cao)
5. [Cấu Hình Theo Nền Tảng](#cấu-hình-theo-nền-tảng)
6. [Xử Lý Sự Cố](#xử-lý-sự-cố)
7. [Tài Nguyên](#tài-nguyên)

## Yêu Cầu Hệ Thống

Trước khi tích hợp TrackAsia vào dự án React Native, hãy đảm bảo bạn có:

- React Native (phiên bản 0.72.6 trở lên)
- Một dự án React Native đang hoạt động
- Hiểu biết cơ bản về phát triển React Native

## Cài Đặt

### Bước 1: Thêm Dependencies

Thêm các dependencies sau vào file `package.json`:

```json
{
  "dependencies": {
    "@track-asia/trackasia-react-native": "^2.0.0",
    "@react-native-community/geolocation": "^3.1.0"
  }
}
```

### Bước 2: Cài Đặt Dependencies

Chạy lệnh sau để cài đặt các dependencies:

```bash
npm install
# hoặc
yarn install
```

## Triển Khai Cơ Bản

### Bước 1: Import Package TrackAsia

Thêm dòng import sau vào file JavaScript/TypeScript của bạn:

```javascript
import { Mapview, Camera } from '@track-asia/trackasia-react-native';
```

### Bước 2: Tạo Component Bản Đồ

Triển khai component bản đồ trong code của bạn:

```javascript
import React from 'react';
import { StyleSheet, View } from 'react-native';
import { MapView, Camera } from '@track-asia/trackasia-react-native';

const App = () => {
  return (
    <View style={styles.container}>
      <MapView
        style={styles.map}
        mapStyle="https://tiles.track-asia.com/tiles/v3/style-streets.json?key=public"
        >
        <Camera
          zoomLevel={14}
          centerCoordinate={[106.6297, 10.8231]}
        />
      </MapView>
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
  },
  map: {
    flex: 1,
  },
});

export default App;
```

## Tính Năng Nâng Cao

### Thêm Điểm Đánh Dấu (Markers)

Để thêm markers vào bản đồ:

```javascript
<PointAnnotation
  id="marker"
  coordinate={[106.6297, 10.8231]}>
  <View style={styles.markerContainer}>
    <View style={styles.marker} />
  </View>
</PointAnnotation>
```

### Theo Dõi Vị Trí Người Dùng

Bật tính năng theo dõi vị trí người dùng:

```javascript
<MapView
  showUserLocation={true}
  userTrackingMode={UserTrackingModes.Follow}
>
```

### Điều Khiển Tương Tác Bản Đồ

Bật các điều khiển tương tác bản đồ:

```javascript
<MapView
  compassEnabled={true}
  zoomEnabled={true}
  scrollEnabled={true}
  rotateEnabled={true}
>
```

## Cấu Hình Theo Nền Tảng

### Cấu Hình Android

1. Cập nhật `android/app/build.gradle`:

```gradle
android {
    defaultConfig {
        minSdkVersion 21
    }
}
```

2. Thêm quyền vào `AndroidManifest.xml`:

```xml
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
```

### Cấu Hình iOS

1. Cập nhật `ios/Podfile`:

```ruby
target 'TenUngDungCuaBan' do
  # ... các cấu hình khác
  pod 'TrackAsiaGL', '~> 1.0.0'
end
```

2. Thêm mô tả quyền truy cập vị trí vào `Info.plist`:

```xml
<key>NSLocationWhenInUseUsageDescription</key>
<string>Ứng dụng cần quyền truy cập vị trí của bạn để hiển thị trên bản đồ</string>
```

## Xử Lý Sự Cố

### Vấn Đề Thường Gặp

1. **Bản đồ không hiển thị**: Kiểm tra URL style và kết nối internet
2. **Vị trí không hoạt động**: Kiểm tra cấu hình quyền truy cập
3. **Markers không hiển thị**: Xác minh tọa độ và style của markers

### Mẹo Debug

- Sử dụng console.log để theo dõi các sự kiện bản đồ
- Kiểm tra thông báo lỗi liên quan đến TrackAsia
- Xác minh tất cả dependencies đã được cài đặt đúng cách

## Ảnh Demo

<p align="center">
  <img src="screenshots/map1.png" alt="Giao diện bản đồ 1" width="200"/>
  <img src="screenshots/map2.png" alt="Giao diện bản đồ 2" width="200"/>
  <img src="screenshots/map3.png" alt="Giao diện bản đồ 3" width="200"/>
</p>

## Tài Nguyên

### Repository Chính Thức

- [TrackAsia React Native](https://github.com/track-asia/trackasia-react-native)
- [TrackAsia Native](https://github.com/track-asia/trackasia-gl-native)
- [Tài Liệu TrackAsia](https://track-asia.com/trackasia-react-native)

### Dự Án Mẫu

Repository TrackAsia React Native chứa các dự án mẫu minh họa các tính năng và trường hợp sử dụng khác nhau. Clone repository và khám phá các ví dụ để hiểu rõ hơn cách triển khai các tính năng cụ thể.

### Hỗ Trợ Cộng Đồng

Nếu bạn gặp vấn đề hoặc có câu hỏi:
- Tạo issue trên GitHub
- Kiểm tra các issue hiện có để tìm giải pháp
- Đóng góp cho dự án bằng cách gửi pull requests

## Giấy Phép

Dự án này được cấp phép theo Giấy phép MIT - xem file [LICENSE](LICENSE) để biết thêm chi tiết. 